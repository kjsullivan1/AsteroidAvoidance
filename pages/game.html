<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src = "script.js"></script>
</head>
<body>
    <canvas width="800" height="600" style="border:1px solid black; background-color: black;"></canvas>
    <form id = "form" method="POST" action="/getscore" class="theGame" style="visibility: visible; display: contents;">
        
        
        <script id="gamescript" type="text/javascript" src="script.js">
            
        </script>

        <input id="id" name = "score" type="text" value = "" placeholder="Enter your score" style="position:absolute; left:300px; top:400px; width:200px; visibility: hidden;" />
        <button id="btnScore" style="position:absolute; left:350px; top:450px; width:100px; visibility: hidden;">Submit</button>
    </form>


    <br>
    <h3>HighScore</h3>
    <script>
        fetch("/getdata").then(function(scores){
            scores.json().then(function(theScores){
                console.log(theScores)

        
                for(let score of theScores.scores){
                    
                    if(theScores.scores + 1 >= 2)
                    {
                        for(let score1 of theScores.scores + 1)
                        {
                            console.log(Number(score1.score.score));
                            if(Number(score.score.score) > Number(score1.score.score))
                            {
                                var gameElement = document.createElement('p');
                                //gameElement.innerHTML = score.name.;
                                console.log(score.name.name);
                                document.getElementById("nameID").textContent = "Name: " + score.name.name;
                                document.getElementById("scoreID").textContent = "Score: " + score.score.score;
                                gameElement.innerHTML += ",  Created by: "+ score.name.name + "&nbsp&nbsp"; 

                            }
                        }
                    }
                    else
                    {
                        document.getElementById("nameID").textContent = "Name: " + score.name.name;
                        document.getElementById("scoreID").textContent = "Score: " + score.score.score;
                    }
                        
            
                   
                    //Creates the elements and adds them to the page 
                    
                    //document.getElementById('container').appendChild(gameElement);
                }
            })
        })
    </script>
   <p id="nameID">hello</p>
   <p id="scoreID">Scorey</p>


</body>
</html>